---
layout: post
title: "使用less看比较大的Log文件"
date: 2014-01-14 23:19:34 +0800
comments: true
categories: [linux,备忘录]
---
很多服务器程序的产品都部署在Linux/Unix，很多时候需要到Linux/Unix环境中查看Log，Log文件一般为比较大的文本文件，几百M或者几个G的文件都可能出现，特别是出现问题频繁抛出Exception或者错误的时候。这个时候使用文本工具比如vi(m)会比较慢。使用部分加载的Less可以比较方便地查看。   
对于比较大的log文件，行号是一个比较好的定位方式。使用下面命令打开文件显示行号。
```
less -N #{filename}
```
查看的过程中文本搜索是必不可少的,
```
/#{keyword}
```
找到对应的结果时，文本直接跳转到对应的行号，由于是部分加载，这时候只显示搜索到文本的位置以及后面的内容，这时候的上下文往往是不完整的，如果想查看前面几行的内容。需要记住当前的行号，然后往上算出想查看的行号，比如当前是10000行，而想查看9990的内容，用行号+":"跳转到对应的行查看。
```
#{line_number}
```
这样就能比较方便快速地在log文件中查看想要的内容了。